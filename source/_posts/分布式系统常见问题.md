---
title: 分布式系统常见问题解决方案
categories:
  - 后端
  - 分布式
tags:
  - 分布式系统常见问题
comments: true
toc: true
date: 2019-03-12 23:31:38
---
分布式系统
#	分布式事物解决方案

1.全局事务（dtp模型）

2.基于可靠消息的分布式事务

3.最大努力通知（定期校对）

4.TCC（两阶段型、补偿型）

#	查询结果集合并

数据汇总- 夸库分页-业务折中：

1. 禁止跳页查询（业务折中）,只提供前一页后一页查询
2. 二次查询
3. 数据库中间件（mycat、oneProxy）

#	全局唯一ID保证

3.1	UUID方案   缺点：不可读，不满足趋势递增，字符串存储慢

3.2 雪花算法	  缺点：依赖机器时间，不满足趋势递增

3.3	主从数据库  

数据库代理层，多主数据库(或者表)，根据编号生成（M1=1,101,201;M2=2,102,202）

3.3 redis集群

年份+天+时+redis自增